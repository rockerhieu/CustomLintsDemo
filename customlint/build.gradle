apply plugin: 'java'

sourceCompatibility = "1.6"

repositories {
  mavenCentral()
}

dependencies {
  compile 'com.android.tools.lint:lint:25.3.0'
  compile 'com.android.tools.lint:lint-api:25.3.0'
  compile 'com.android.tools.lint:lint-checks:25.3.0'
  testCompile 'junit:junit:4.11'
  testCompile 'com.android.tools.lint:lint:25.3.0'
  testCompile 'com.android.tools.lint:lint-tests:25.3.0'
  testCompile 'com.android.tools:testutils:25.3.0'
}

jar {
  manifest {
    attributes("Lint-Registry": "io.github.rockerhieu.customlint.CustomLintIssuesRegistry")
  }
}

configurations {
  lintChecks
}

dependencies {
  lintChecks files(jar)
}

task install(type: Copy) {
  from configurations.lintChecks
  into System.getProperty('user.home') + '/.android/lint/'
}

defaultTasks 'assemble'